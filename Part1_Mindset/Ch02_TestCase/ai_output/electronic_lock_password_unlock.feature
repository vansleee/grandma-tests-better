Feature: 電子鎖使用數字密碼開鎖

  作為一名已註冊的電子鎖使用者
  我希望能使用數字密碼開啟電子鎖
  以便快速且安全地進入門內

  # 正常情境
  Scenario: 使用正確密碼成功開鎖
    Given 電子鎖已安裝完成並通電
    And 使用者密碼 "123456" 已成功註冊
    And 門處於 "關閉並上鎖" 狀態
    And 電子鎖處於睡眠模式
    When 使用者觸碰面板喚醒電子鎖
    And 使用者依序輸入密碼 "123456"
    And 使用者按下 "確認" 鍵
    Then 電子鎖應發出 "驗證成功" 的提示音效
    And LED指示燈應變為 "綠色"
    And 馬達應運轉，鎖舌應收回
    And 使用者應能轉動門把成功開門

  # 異常情境
  Scenario: 連續輸入錯誤密碼觸發鎖定
    Given 使用者已完成電子鎖註冊
    And 電子鎖處於上鎖狀態
    And 使用者已連續輸入錯誤密碼達到系統上限
    When 使用者再次嘗試輸入密碼
    Then 電子鎖應進入鎖定狀態
    And 系統應拒絕任何新的密碼輸入
    And 系統記錄一次安全警示事件