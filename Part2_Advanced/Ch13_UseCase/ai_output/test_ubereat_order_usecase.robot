Feature: 訂餐與結帳核心流程（Uber Eats Use Case）

# 快樂路徑（Happy Path）
Scenario: 快樂路徑：成功下單並套用折扣碼
Given 登入的帳號是 "VIP會員"
And 購物車內有 "兩份餐點"
And 帳號擁有一張 "八折折扣碼"
When 我在結帳頁面成功套用 "八折折扣碼"
And 我使用 "信用卡" 完成付款
Then 訂單總金額應為 "原價 * 0.8"
And 系統應顯示 "訂單已成立，等待餐廳接受"

# 備選路徑（Alternative Path）
Scenario: 備選路徑：取消訂單失敗（餐廳已接單）
Given 登入的帳號有一筆 "已付款但尚未配送" 的訂單 (OrderID: 456)
And 該訂單的狀態為 "餐廳已接受並準備中"
When 我點擊 "取消訂單" 按鈕
And 我在彈出視窗中點擊 "確認取消"
Then 系統應顯示 "取消失敗：餐廳已開始準備，無法取消" 的明確錯誤訊息
And 該訂單的狀態應維持為 "餐廳已接受並準備中"

# 異常情境（Exception Path）
Scenario: 異常情境：付款失敗（餘額不足）
Given 登入的帳號購物車總額為 "$1200"
And 我在結帳頁面輸入 "餘額不足" 的信用卡資訊
When 我點擊 "確認付款" 按鈕
Then 系統應在 "3秒內" 顯示 "付款失敗：餘額不足，請更換付款方式" 的提示
And 訂單狀態應為 "待付款" 或 "已取消"